{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/nicos/Dev/poc/poc-pwa/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { liveQuery } from 'dexie';\nimport { db } from 'src/services/db';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\n\nfunction ItemListComponent_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.title, \" \");\n  }\n}\n\nexport let ItemListComponent = /*#__PURE__*/(() => {\n  class ItemListComponent {\n    constructor() {\n      // Observe an arbritary query:\n      this.todoItems$ = liveQuery(() => this.listTodoItems());\n      this.itemName = 'My new item';\n    }\n\n    listTodoItems() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        return yield db.todoItems.where({\n          todoListId: _this.todoList.id\n        }).toArray();\n      })();\n    }\n\n    addItem() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        yield db.todoItems.add({\n          title: _this2.itemName,\n          todoListId: _this2.todoList.id\n        });\n      })();\n    }\n\n  }\n\n  ItemListComponent.ɵfac = function ItemListComponent_Factory(t) {\n    return new (t || ItemListComponent)();\n  };\n\n  ItemListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ItemListComponent,\n    selectors: [[\"item-list\"]],\n    inputs: {\n      todoList: \"todoList\"\n    },\n    decls: 11,\n    vars: 5,\n    consts: [[\"autocomplete\", \"off\", \"type\", \"text\", \"id\", \"name\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"\"], [\"type\", \"submit\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function ItemListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h3\");\n        i0.ɵɵtext(1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"label\");\n        i0.ɵɵtext(3, \" Todo : \");\n        i0.ɵɵelementStart(4, \"input\", 0, 1);\n        i0.ɵɵlistener(\"ngModelChange\", function ItemListComponent_Template_input_ngModelChange_4_listener($event) {\n          return ctx.itemName = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function ItemListComponent_Template_button_click_6_listener() {\n          return ctx.addItem();\n        });\n        i0.ɵɵtext(7, \"Add Todo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"ul\");\n        i0.ɵɵtemplate(9, ItemListComponent_li_9_Template, 2, 1, \"li\", 3);\n        i0.ɵɵpipe(10, \"async\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"List : \", ctx.todoList.title, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.itemName);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(10, 3, ctx.todoItems$));\n      }\n    },\n    dependencies: [i1.NgForOf, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgModel, i1.AsyncPipe]\n  });\n  return ItemListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}