{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/nicos/Dev/poc/poc-pwa/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Dexie from 'dexie';\nexport var ISynchroRecordType = /*#__PURE__*/(() => {\n  (function (ISynchroRecordType) {\n    ISynchroRecordType[\"ADD\"] = \"add\";\n    ISynchroRecordType[\"DELETE\"] = \"delete\";\n  })(ISynchroRecordType || (ISynchroRecordType = {}));\n\n  return ISynchroRecordType;\n})();\nexport class AppDB extends Dexie {\n  constructor() {\n    super('PwaDb');\n    this.version(10).stores({\n      todoLists: '++id, recordType',\n      todoItems: '++id, todoListId, recordType',\n      cacheable: 'key'\n    }); // this.on('populate', () => this.populate());\n\n    this.on('populate', () => null);\n  }\n\n  populate() {\n    return _asyncToGenerator(function* () {\n      const todoListId = yield db.todoLists.add({\n        title: 'To Do Today'\n      });\n      yield db.todoItems.bulkAdd([{\n        todoListId,\n        title: 'Feed the birds'\n      }, {\n        todoListId,\n        title: 'Watch a movie'\n      }, {\n        todoListId,\n        title: 'Have some sleep'\n      }]);\n    })();\n  }\n\n  resetDatabase() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield db.transaction('rw', 'todoItems', 'todoLists', () => {\n        _this.todoItems.clear();\n\n        _this.todoLists.clear();\n\n        _this.cacheable.clear(); // this.populate();\n\n      });\n    })();\n  }\n\n}\nexport const db = new AppDB();","map":null,"metadata":{},"sourceType":"module"}