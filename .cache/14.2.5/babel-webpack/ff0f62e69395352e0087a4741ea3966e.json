{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/nicos/Dev/poc/poc-pwa/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport Dexie from 'dexie';\nexport class AppDB extends Dexie {\n  constructor() {\n    super('PwaDb');\n    this.version(3).stores({\n      todoLists: '++id',\n      todoItems: '++id, todoListId'\n    });\n    this.on('populate', () => this.populate());\n  }\n\n  populate() {\n    return _asyncToGenerator(function* () {\n      const todoListId = yield db.todoLists.add({\n        title: 'To Do Today'\n      });\n      yield db.todoItems.bulkAdd([{\n        todoListId,\n        title: 'Feed the birds'\n      }, {\n        todoListId,\n        title: 'Watch a movie'\n      }, {\n        todoListId,\n        title: 'Have some sleep'\n      }]);\n    })();\n  }\n\n  resetDatabase() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield db.transaction('rw', 'todoItems', 'todoLists', () => {\n        _this.todoItems.clear();\n\n        _this.todoLists.clear();\n\n        _this.populate();\n      });\n    })();\n  }\n\n}\nexport const db = new AppDB();","map":null,"metadata":{},"sourceType":"module"}